import{y as j,a as s,p as t,w as S}from"./chunk-B7RQU5TL-BHi1Mf43.js";import{u as P,d as D,e as f,f as y,h as B,i as I}from"./firebase-B0Xi_jMF.js";const U=()=>{const{user:b}=P(),o=j(),v=["Lawsuit","General","Events","Announcements","Community"],[l,i]=s.useState(""),[u,c]=s.useState(""),[m,d]=s.useState(""),[n,p]=s.useState("General"),[a,g]=s.useState(""),w=async e=>{var x;e.preventDefault(),b||o("/auth");const C=new Date().toLocaleDateString("en-US");if(a.length!==0&&!a.endsWith(".jpg")&&!a.endsWith(".png")&&!a.endsWith(".svg")){alert("Image name must end with .jpg, .png, or .svg");return}let r;a.length===0?r="":r="/blog/"+n.toLowerCase()+"/"+a;const N=D(f(y,"posts")).id;await B(f(y,"posts"),{id:N,title:l,content:u,authorID:((x=I.currentUser)==null?void 0:x.uid)||null,createdAt:C,authorName:m||"Anonymous",category:n,imageUrl:r}).then(()=>{i(""),c(""),d(""),p("General"),g("")}).finally(()=>{o("/blog")})};return t.jsxs("form",{onSubmit:w,className:"max-w-[750px] mx-auto my-16 bg-white shadow-md rounded-lg px-24 py-16",children:[t.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Create Blog Post"}),t.jsxs("div",{className:"space-y-4 flex flex-col",children:[t.jsx("input",{type:"text",placeholder:"Title",className:"border px-3 py-2 w-full",value:l,onChange:e=>i(e.target.value),required:!0}),t.jsx("input",{type:"text",placeholder:"Written By Name",className:"border px-3 py-2 w-full",value:m,onChange:e=>d(e.target.value),required:!0}),t.jsx("textarea",{placeholder:"Content",className:"border px-3 py-2 w-full h-40",value:u,onChange:e=>c(e.target.value),required:!0}),t.jsxs("div",{className:"flex flex-row items-center justify-between gap-5",children:[t.jsx("select",{className:"w-fit bg-gray-50 p-3 border",value:n,onChange:e=>{p(e.target.value)},required:!0,children:v.map((e,h)=>t.jsx("option",{value:e,children:e},h))}),t.jsx("input",{type:"text",placeholder:"Image Name (with extension)",className:"border p-3 w-fit h-full",value:a,onChange:e=>g(e.target.value)})]}),t.jsx("button",{type:"submit",className:"bg-gray-900 text-white px-6 py-2 rounded hover:bg-gray-700",children:"Publish"})]})]})};function W({}){return[{title:"Mead Memorial Chapel - Create Post"},{name:"description",content:"Mead Memorial Chapel - Create Post"}]}const q=()=>t.jsx("main",{className:"font-serif",children:t.jsx(U,{})}),E=S(q);export{E as default,W as meta};
